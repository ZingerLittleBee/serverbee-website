---
import Container from '../../components/Container.astro'

const data = [
	{
		content: '很好用，方便监视服务器的情况。',
		name: 'Walter White',
		role: 'Developer',
		avatar: ''
	},
	{
		content: '安装简单，很容易上手。',
		name: 'Jesse Pinkman',
		role: 'Engineer',
		avatar: ''
	},
	{
		content: '解决问题及时，沟通方便。',
		name: 'Saul Goodman',
		role: 'Enthusiast',
		avatar: ''
	}
]
---

<section id='testimonials' class='relative py-16'>
	<div
		aria-hidden='true'
		class='absolute inset-0 h-max w-full m-auto grid grid-cols-2 -space-x-52 opacity-40 dark:opacity-20'
	>
		<div
			class='blur-[106px] h-56 bg-gradient-to-br from-primary to-purple-400 dark:from-blue-700'
		>
		</div>
		<div
			class='blur-[106px] h-32 bg-gradient-to-r from-cyan-400 to-sky-300 dark:to-indigo-600'
		>
		</div>
	</div>
	<Container>
		<div class='flex flex-wrap'>
			<div class='mx-4 w-full'>
				<div
					class='mx-auto mb-[60px] max-w-[620px] text-center lg:mb-20'
				>
					<span
						class='mb-2 block text-lg font-semibold text-primary dark:text-primary-dark'
					>
						它山之石
					</span>
					<h2
						class='mb-4 text-3xl font-bold text-black dark:text-white sm:text-4xl md:text-[42px]'
					>
						我们的客户怎么说
					</h2>
				</div>
			</div>
		</div>

		<div class='flex flex-wrap'>
			{
				data.map(item => (
					<div class='w-full px-4 md:w-1/2 lg:w-1/3'>
						<div class='mb-12 p-8 bg-[#f6f4fb] dark:bg-gray-800 rounded-xl'>
							<five-star />
							<div class='ud-testimonial-content mb-6'>
								<p class='text-bold tracking-wide text-black dark:text-white'>
									{item.content}
								</p>
							</div>
							<div class='ud-testimonial-info flex items-center'>
								{item.avatar && (
									<div class='ud-testimonial-image mr-5 h-[50px] w-[50px] overflow-hidden rounded-full'>
										<img src={item.avatar} alt='author' />
									</div>
								)}
								<div class='ud-testimonial-meta'>
									<h4 class='text-sm font-semibold text-black/70 dark:text-white/70'>
										{item.name}
									</h4>
									<p class='text-xs text-[#969696]'>
										{item.role}
									</p>
								</div>
							</div>
						</div>
					</div>
				))
			}
		</div>
	</Container>
</section>

<script>
	class FiveStar extends HTMLElement {
		constructor() {
			super()
			const template = document.createElement('div')
			template.classList.add(
				'ud-testimonial-ratings',
				'mb-3',
				'flex',
				'items-center'
			)
			for (let i = 0; i < 5; i++) {
				const span = document.createElement('span')
				span.classList.add(
					'mr-1',
					'text-primary-dark',
					'dark:text-[#fbb040]'
				)
				span.innerHTML = `
                <svg
								width='18'
								height='16'
								viewBox='0 0 18 16'
								class='fill-current'
							>
								<path
									d='M9.09815 0.360596L11.1054 6.06493H17.601L12.3459 9.5904L14.3532 15.2947L9.09815 11.7693L3.84309 15.2947L5.85035 9.5904L0.595291 6.06493H7.0909L9.09815 0.360596Z'
								></path>
							</svg>
                            `
				template.appendChild(span)
			}
			this.appendChild(template)
		}
	}

	customElements.define('five-star', FiveStar)
</script>
