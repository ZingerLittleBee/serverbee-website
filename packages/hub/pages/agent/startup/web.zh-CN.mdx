# Web æ¨¡å—
Web æ¨¡å—åŠŸèƒ½ä¸ç”¨æ³•

import Button from "@site/src/components/Button";

<div className='flex space-x-2 flex-wrap'>
	<img
		src='https://img.shields.io/github/v/release/ZingerLittleBee/server_bee-backend?style=for-the-badge'
		alt='GitHub release (latest by date)'
	/>
	<img
		src='https://img.shields.io/github/actions/workflow/status/ZingerLittleBee/server_bee-backend/release.yml?style=for-the-badge'
		alt='GitHub Workflow Status'
	/>
	<img
		src='https://img.shields.io/github/last-commit/ZingerLittleBee/server_bee-backend?style=for-the-badge'
		alt='GitHub last commit'
	/>
</div>

## åŠŸèƒ½

-   CPU è´Ÿè½½
-   å¹³å‡è´Ÿè½½
-   å†…å­˜ä½¿ç”¨æƒ…å†µ
-   æ­£å¸¸è¿è¡Œã€å¯åŠ¨æ—¶é—´
-   æ–‡ä»¶ç³»ç»Ÿè£…è½½ï¼ˆå’Œç£ç›˜ä½¿ç”¨ï¼‰
-   ç£ç›˜ I/O ç»Ÿè®¡ä¿¡æ¯
-   ç½‘ç»œæ¥å£
-   ç½‘ç»œæµé‡ç»Ÿè®¡
-   è¿›ç¨‹åˆ—è¡¨
-   è¿›ç¨‹è¯¦ç»†ä¿¡æ¯
-   æ€æ­»è¿›ç¨‹
-   è¿›ç¨‹æ‰€å±å­è¿›ç¨‹

## Web ä»ªè¡¨ç›˜
![overview](https://assets.serverbee.app/snapshots/overview.png)
![process](https://assets.serverbee.app/snapshots/process.png)
![disk&network](https://assets.serverbee.app/snapshots/disk&network.png)
![settings](https://assets.serverbee.app/snapshots/settings.png)

## å®‰è£…
### Dockerï¼ˆç¾¤æ™–ã€QTSã€Unraidã€PVEã€Openwrt æ¨èä½¿ç”¨ dockerï¼‰
> è¯¦ç»†æ•™ç¨‹è¯·è®¿é—®æ–‡æ¡£é“¾æ¥ ğŸ‘‰ [Docker](https://docs.serverbee.app/usage/docker)

```bash
docker run -d \
  -v /proc:/proc \
  -v /dev:/dev \
  -v /sys:/sys \
  -v /etc:/etc \
  -v /run/media:/run/media \
  -v /sys/class/net:/sys/class/net \
  --privileged=true \
  --restart unless-stopped \
  --network=host \
  --name=serverbee-web \
  zingerbee/serverbee-web -p 9527
```
å°† 9527 æ›¿æ¢ä¸ºä»»ä½•ä½ æƒ³è¦çš„ç«¯å£

### Linuxã€Windowsã€MacOS
å‰å¾€ [Github Releases](https://github.com/ZingerLittleBee/server_bee-backend/releases) ä¸‹è½½å¯¹åº”å¹³å°çš„ serverbee-web å‹ç¼©åŒ…ï¼Œè§£å‹åè¿è¡Œ `serverbee-web` äºŒè¿›åˆ¶æ–‡ä»¶å³å¯

## å¸¸è§é—®é¢˜

### Dashboard åœ°å€
Dashboard åœ°å€ä¸º `http://ip:port`ï¼Œé»˜è®¤ç«¯å£ä¸º 9527

### é¦–æ¬¡ç™»å½•
é¦–æ¬¡å®‰è£…å®Œæ¯•ï¼Œtoken éšä¾¿å¡«å†™ï¼Œå³ä¸º Token ï¼ˆç®¡ç†å‘˜å¯†ç ï¼‰ï¼Œåç»­å¯åœ¨ `/settings/security` è·¯ç”±ä¸‹ä¿®æ”¹

### å¿˜è®°å¯†ç 
å¯ä»¥åœ¨ `localhost` ä¸‹æŸ¥è¯¢åˆ° token
```bash
curl http://localhost:9527/local/config/app
```

å“åº”å¦‚ä¸‹:
```json
{
  "success": true,
  "data": {
    "token": "token"
  }
}
```

## æ›´å¤šè®¾ç½®

### ä½¿ç”¨è‡ªå®šä¹‰ç«¯å£

```bash
./serverbee-web -p 8081
```

## é…ç½®ç›¸å…³ API
ä»¥ä¸‹æ¥å£åªèƒ½ä» `localhost` è®¿é—®

### æŸ¥çœ‹æ‰€æœ‰é…ç½®
```bash
curl http://localhost:9527/local/config
```
å“åº”å¦‚ä¸‹:
```json
{
    "success": true,
    "data": {
        "web_server": {
            "port": 9527
        },
        "server": {
            "token": "token",
            "host": "serverhub.app",
            "disable_ssl": false
        },
        "app": {
            "token": "token"
        }
    }
}
```

### æŸ¥çœ‹ `web_server` é…ç½®
> web æœåŠ¡å™¨çš„ç›¸å…³é…ç½®ï¼ŒåŒ…æ‹¬ç«¯å£å·

```bash
curl http://localhost:9527/local/config/web_server
```
å“åº”å¦‚ä¸‹:
```json
{
  "success": true,
  "data": {
    "port": 9527
  }
}
```

### æ›´æ–° `web_server` é…ç½®
```bash
curl -X POST -H "Content-Type: application/json" -d '{"port": 9527}' http://127.0.0.1:9527/local/config/web_server
```
å“åº”å¦‚ä¸‹:
```json
{
  "success": true
}
```

### æŸ¥çœ‹ `app` é…ç½®
> app çš„ç›¸å…³é…ç½®ï¼ŒåŒ…æ‹¬é€šè®¯å¯†é’¥

```bash
curl http://localhost:9527/local/config/app
```
å“åº”å¦‚ä¸‹:
```json
{
  "success": true,
  "data": {
    "token": "token"
  }
}
```

### æ›´æ–° `app` é…ç½®
```bash
curl -X POST -H "Content-Type: application/json" -d '{"token": "newToken"}' http://localhost:9527/local/config/app
```
å“åº”å¦‚ä¸‹:
```json
{
  "success": true
}
```

### æŸ¥çœ‹ `server` é…ç½®
> server çš„ç›¸å…³é…ç½®ï¼ŒåŒ…æ‹¬é€šè®¯å¯†é’¥ã€æœåŠ¡å™¨åœ°å€ã€æ˜¯å¦ç¦ç”¨ SSL

```bash
curl http://localhost:9527/local/config/server
```
å“åº”å¦‚ä¸‹:
```json
{
  "success": true,
  "data": {
    "token": "token",
    "host": "serverhub.app",
    "disable_ssl": false
  }
}
```

### æ›´æ–° `server` é…ç½®
```bash
curl -X POST -H "Content-Type: application/json" -d '{"token": "newToken", "host": "serverhub.app", "disable_ssl": false}' http://127.0.0.1:9527/local/config/server
```
å“åº”å¦‚ä¸‹:
```json
{
  "success": true
}
```

## ä»æºç ç¼–è¯‘
### 1. æ„å»ºå‰ç«¯æºç 
> éœ€è¦å®‰è£… nodejsã€pnpm
```shell
pnpm -C view install
pnpm -C view build
```
æ„å»ºäº§ç‰©åœ¨ `view/dist` ç›®å½•ä¸‹

### 2. æ„å»º web æ¨¡å—æºç 
> éœ€è¦å®‰è£… rust
```bash
cargo build --bin serverbee-web --release
```
ç„¶åä½ å¯ä»¥åœ¨ `target/release` æ‰¾åˆ° `serverbee-web` æ–‡ä»¶

## å‘ç°é—®é¢˜æˆ–æå‡ºå»ºè®®

<Button url='https://github.com/zingerlittlebee/server_bee-backend/issues/new'>
    Create issue
</Button>
