import { Callout } from 'nextra/components'

# Configuration

## Create Admin User
Route to `your_domain/init` to access the initialization page, enter your username and password to create an Admin user.

## Link your sqlite database
```bash copy {9-10}
version: '3'

services:
  # Omit other services
  hub:
    image: zingerbee/serverhub:latest
    container_name: serverhub
    restart: unless-stopped
    volumes:
      - /replace_your_path/serverhub.db:/app/serverhub.db
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - MONGODB_URI=${MONGODB_URI}
      - NEXTAUTH_SECRET=${NEXTAUTH_SECRET}
      - NEXTAUTH_URL=${NEXTAUTH_URL}
      - SERVER_JWT_SECRET=${SERVER_JWT_SECRET}
      - SALT_ROUNDS=${SALT_ROUNDS}
    depends_on:
      - mongo
  # Omit other services
```

## Modify environment variables
Modify the environment variables, then rerun the **one-click script** and select option 2 **Update** to reinstall in the `server_bee-backend/docker/.env` file.

<Callout type="info">
    If you have not used the one-click script, you can manually rerun it.
    ```shell copy
    docker-compose down
    docker-compose up -d
    ```
</Callout>


## .env
```bash copy
RUST_LOG=waring

# Next Auth
# You can generate a new secret on the command line with:
# openssl rand -base64 32
NEXTAUTH_SECRET="Your_NextAuth_Secret_Key"
# ServerHub URL
NEXTAUTH_URL="hub:3000"

# MongoDB
MONGO_INITDB_ROOT_USERNAME=mongoadmin
MONGO_INITDB_ROOT_PASSWORD=secret
MONGODB_URI=mongodb://mongoadmin:secret@mongo:27017/

# Server JWT
SERVER_JWT_SECRET="Your_Server_Secret_Key"

# Web (optional if you don't want to get the status of local server)
SERVER_HOST="recorder:9528"
SERVER_TOKEN="Your_Server_Token"
```

## Caddyfile
```bash copy
{
    # turn on if your want SSL
    auto_https off
}

:80, :443 {
    # replace host with your recorder domain
    @recorder host recorder.serverbee.app
    reverse_proxy @recorder recorder:9528

    route /api/i/* {
        uri strip_prefix /api/i
        reverse_proxy interactor:9529
    }

    reverse_proxy hub:3000
}
```
