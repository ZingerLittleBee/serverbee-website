<a
	href='javascript:void(0)'
	class='back-to-top fixed bottom-8 right-8 left-auto z-[999] hidden h-10 w-10 items-center justify-center rounded-full bg-primary dark:bg-primary-dark text-white shadow-md transition duration-300 ease-in-out hover:bg-dark'
>
	<span class='mt-[6px] h-3 w-3 rotate-45 border-t border-l border-white'
	></span>
</a>

<script>
	const backToTop: HTMLElement = document.querySelector('.back-to-top')
	window.addEventListener('scroll', () => {
		if (
			document.body.scrollTop > 50 ||
			document.documentElement.scrollTop > 50
		) {
			backToTop.style.display = 'flex'
		} else {
			backToTop.style.display = 'none'
		}
	})

	function scrollTo(element, to = 0, duration = 500) {
		const start = element.scrollTop
		const change = to - start
		const increment = 20
		let currentTime = 0

		const animateScroll = () => {
			currentTime += increment

			const val = easeInOutQuad(currentTime, start, change, duration)

			element.scrollTop = val

			if (currentTime < duration) {
				setTimeout(animateScroll, increment)
			}
		}

		animateScroll()
	}

	const easeInOutQuad = function (t, b, c, d) {
		t /= d / 2
		if (t < 1) return (c / 2) * t * t + b
		t--
		return (-c / 2) * (t * (t - 2) - 1) + b
	}

	backToTop.onclick = () => {
		scrollTo(document.documentElement)
	}
</script>
